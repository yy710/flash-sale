<view class="container">

  <view class="userinfo">
    <button wx:if="{{!hasUserInfo && canIUse}}" open-type="getUserInfo" bindgetuserinfo="getUserInfo"> 获取我的账号信息 </button>
    <block wx:else>
      <image bindtap="bindViewTap" class="userinfo-avatar" src="{{userInfo.avatarUrl}}" background-size="cover"></image>
      <text class="userinfo-nickname">{{userInfo.nickName}}</text>
    </block>
  </view>

  <view class="zan-panel" wx:for="{{myProducts}}" wx:key="{{item.id}}">
    <view class="zan-card">
      <view class="zan-card__thumb">
        <image class="zan-card__img" src="{{item.image}}" mode="aspectFit"></image>
      </view>
      <view class="zan-card__detail">
        <view class="zan-card__detail-row">
          <view class="zan-card__right-col">{{item.price}}万</view>
          <view class="zan-card__left-col zan-ellipsis--l2">
            {{item.name}}
          </view>
        </view>

        <view class="zan-card__detail-row zan-c-gray-darker">
          <view class="zan-card__right-col zan-c-red">已订购1台</view>
          <view class="zan-card__left-col zan-ellipsis--l2">
            {{item.model}}
          </view>
        </view>

        <view class="zan-card__detail-row zan-c-gray-darker">
          <view class="zan-card__right-col">
            <button class="weui-btn mini-btn" type="default" size="mini" disabled="{{false}}" data-product-id='{{item.id}}'>支付定金</button>
          </view>
          <view class="zan-card__left-col zan-ellipsis--l2">
            超过15分钟未支付定金订单自动取消
          </view>
        </view>

      </view>
    </view>
  </view>

</view>